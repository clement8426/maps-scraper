# ğŸ”„ Pipeline OSINT - Vue d'ensemble visuelle

## Architecture du pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         OSINT ENRICHER                              â”‚
â”‚                     (Port 81 - Interface Web)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BASE DE DONNÃ‰ES SQLite                           â”‚
â”‚                    companies.db (partagÃ©e)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ id | company_name | website | email | city | ...          â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ COLONNES OSINT (ajoutÃ©es automatiquement) :               â”‚    â”‚
â”‚  â”‚ â€¢ tech_stack      : Technologies web                       â”‚    â”‚
â”‚  â”‚ â€¢ emails_osint    : Emails trouvÃ©s                         â”‚    â”‚
â”‚  â”‚ â€¢ subdomains      : Sous-domaines                          â”‚    â”‚
â”‚  â”‚ â€¢ whois_raw       : Infos WHOIS                            â”‚    â”‚
â”‚  â”‚ â€¢ wayback_urls    : URLs archivÃ©es                         â”‚    â”‚
â”‚  â”‚ â€¢ osint_status    : Done / N/A / Error                     â”‚    â”‚
â”‚  â”‚ â€¢ osint_updated_at: Date de mise Ã  jour                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PIPELINE D'ENRICHISSEMENT                        â”‚
â”‚                                                                     â”‚
â”‚  Pour chaque entreprise (avec website) :                           â”‚
â”‚                                                                     â”‚
â”‚  1ï¸âƒ£  WhatWeb      â†’  Technologies web                              â”‚
â”‚  2ï¸âƒ£  theHarvester â†’  Emails OSINT                                  â”‚
â”‚  3ï¸âƒ£  Subfinder    â†’  Sous-domaines                                 â”‚
â”‚  4ï¸âƒ£  WHOIS        â†’  Infos domaine                                 â”‚
â”‚  5ï¸âƒ£  Wayback      â†’  URLs historiques                              â”‚
â”‚  6ï¸âƒ£  UPDATE BDD   â†’  Sauvegarde en base                            â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Flux de donnÃ©es dÃ©taillÃ©

```
                         ENTRÃ‰E
                           â”‚
                    company_name: "AGENCE 107"
                    website: "https://agence107.com"
                           â”‚
                           â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  1ï¸âƒ£  WhatWeb (2-5 secondes)           â”‚
        â”‚  whatweb agence107.com               â”‚
        â”‚  --log-verbose=- --no-errors         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
           âœ… tech_stack = "WordPress | Server: LiteSpeed | 
                            IP: 51.77.165.6 | Pays: GB"
                       â”‚
                       â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  2ï¸âƒ£  theHarvester (30-60 sec)         â”‚
        â”‚  theHarvester -d agence107.com       â”‚
        â”‚  -b all -l 500                       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
           âœ… emails_osint = "contact@agence107.com,
                              info@agence107.com"
                       â”‚
                       â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  3ï¸âƒ£  Subfinder (15-30 secondes)       â”‚
        â”‚  subfinder -d agence107.com          â”‚
        â”‚  -silent -all -timeout 60            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
           âœ… subdomains = "www.agence107.com,
                            mail.agence107.com,
                            ftp.agence107.com,
                            api.agence107.com"
                       â”‚
                       â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  4ï¸âƒ£  WHOIS (2-5 secondes)             â”‚
        â”‚  whois agence107.com                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
           âœ… whois_raw = "Registrar: OVH sas
                           Creation Date: 2018-05-10
                           Expiry Date: 2025-05-10
                           Name Server: ns1.ovh.net
                           ..."
                       â”‚
                       â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  5ï¸âƒ£  Wayback Machine (3-8 sec)        â”‚
        â”‚  curl -s "https://web.archive.org/   â”‚
        â”‚  cdx/search?url=agence107.com..."    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
           âœ… wayback_urls = "https://agence107.com,
                              https://agence107.com/services,
                              https://agence107.com/contact"
                       â”‚
                       â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  6ï¸âƒ£  UPDATE DATABASE                  â”‚
        â”‚  UPDATE companies SET                â”‚
        â”‚    tech_stack = ?,                   â”‚
        â”‚    emails_osint = ?,                 â”‚
        â”‚    subdomains = ?,                   â”‚
        â”‚    whois_raw = ?,                    â”‚
        â”‚    wayback_urls = ?,                 â”‚
        â”‚    osint_status = 'Done',            â”‚
        â”‚    osint_updated_at = NOW()          â”‚
        â”‚  WHERE id = ?                        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
                     SORTIE
              âœ… Entreprise enrichie
```

---

## Timeline d'un enrichissement complet

```
Temps (secondes)    Action                      Ã‰tat
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
0s                  ğŸš€ DÃ©marrage               [ PENDING ]
                    RÃ©cupÃ©ration des cibles
                    
2s                  ğŸ” WhatWeb commence        [ RUNNING ]
                    Analyse de agence107.com
                    
5s                  âœ… WhatWeb terminÃ©         [ OK ]
                    WordPress dÃ©tectÃ©
                    
5s                  ğŸ“§ theHarvester commence   [ RUNNING ]
                    Scan de toutes les sources
                    
65s                 âœ… theHarvester terminÃ©    [ OK ]
                    2 emails trouvÃ©s
                    
65s                 ğŸŒ Subfinder commence      [ RUNNING ]
                    Ã‰numÃ©ration sous-domaines
                    
80s                 âœ… Subfinder terminÃ©       [ OK ]
                    4 sous-domaines trouvÃ©s
                    
80s                 ğŸ“ WHOIS commence          [ RUNNING ]
                    RequÃªte WHOIS
                    
85s                 âœ… WHOIS terminÃ©           [ OK ]
                    Infos rÃ©cupÃ©rÃ©es
                    
85s                 ğŸ• Wayback commence        [ RUNNING ]
                    Recherche archives
                    
93s                 âœ… Wayback terminÃ©         [ OK ]
                    3 URLs trouvÃ©es
                    
93s                 ğŸ’¾ Mise Ã  jour BDD         [ SAVING ]
                    UPDATE SQL en cours
                    
94s                 âœ… Enrichissement complet  [ DONE ]
                    Toutes les donnÃ©es sauvegardÃ©es
                    
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total: ~94 secondes (~1m30s) par entreprise
```

---

## Architecture des sources OSINT

```
                    INTERNET PUBLIC
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚                 â”‚
        â–¼                 â–¼                 â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Moteurs  â”‚    â”‚ Certificatsâ”‚    â”‚ Archives â”‚
  â”‚ rechercheâ”‚    â”‚    SSL     â”‚    â”‚   Web    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                 â”‚                 â”‚
    Google          Certificate         Wayback
    Bing            Transparency        Machine
    Yahoo              (crt.sh)      CommonCrawl
    DuckDuckGo      Certspotter
        â”‚                 â”‚                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚                 â”‚
        â–¼                 â–¼                 â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚   DNS    â”‚    â”‚  Bases   â”‚     â”‚ Services â”‚
  â”‚ Publics  â”‚    â”‚ donnÃ©es  â”‚     â”‚   API    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                 â”‚                 â”‚
  DNSdumpster      VirusTotal        Hunter.io
  SecurityTrails   Shodan           theHarvester
  RapidDNS         ThreatCrowd         APIs
        â”‚                 â”‚                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   NOS OUTILS OSINT   â”‚
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
              â”‚ â€¢ WhatWeb            â”‚
              â”‚ â€¢ theHarvester       â”‚
              â”‚ â€¢ Subfinder          â”‚
              â”‚ â€¢ Amass              â”‚
              â”‚ â€¢ WHOIS              â”‚
              â”‚ â€¢ Wayback (curl)     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   companies.db       â”‚
              â”‚   (SQLite)           â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## DonnÃ©es collectÃ©es par outil

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      WhatWeb                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ INPUT:  agence107.com                                       â”‚
â”‚ OUTPUT: WordPress | Server: LiteSpeed | IP: 51.77.165.6    â”‚
â”‚ TIME:   2-5 secondes                                        â”‚
â”‚ COLUMN: tech_stack                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    theHarvester                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ INPUT:  agence107.com                                       â”‚
â”‚ OUTPUT: contact@agence107.com, info@agence107.com          â”‚
â”‚ TIME:   30-60 secondes                                      â”‚
â”‚ COLUMN: emails_osint                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Subfinder                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ INPUT:  agence107.com                                       â”‚
â”‚ OUTPUT: www.agence107.com, mail.agence107.com, ...         â”‚
â”‚ TIME:   15-30 secondes                                      â”‚
â”‚ COLUMN: subdomains                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       WHOIS                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ INPUT:  agence107.com                                       â”‚
â”‚ OUTPUT: Registrar: OVH sas                                  â”‚
â”‚         Creation Date: 2018-05-10                           â”‚
â”‚         Name Server: ns1.ovh.net                            â”‚
â”‚ TIME:   2-5 secondes                                        â”‚
â”‚ COLUMN: whois_raw                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Wayback Machine                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ INPUT:  agence107.com                                       â”‚
â”‚ OUTPUT: https://agence107.com,                              â”‚
â”‚         https://agence107.com/services,                     â”‚
â”‚         https://agence107.com/contact                       â”‚
â”‚ TIME:   3-8 secondes                                        â”‚
â”‚ COLUMN: wayback_urls                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Interface utilisateur (Port 81)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” Connexion : admin / mot_de_passe_sÃ©curisÃ©                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PAGE /enrich                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ContrÃ´le du Pipeline OSINT                           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  Ville: [Val-de-Ruz â–¼]                                â”‚  â”‚
â”‚  â”‚  Limite: [10        ]  â˜ Mode illimitÃ©                â”‚  â”‚
â”‚  â”‚  â˜‘ Seulement avec site web                            â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  [ â–¶ï¸ DÃ©marrer ]  [ â¸ï¸ ArrÃªter ]                        â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  Statut: âœ… En cours                                   â”‚  â”‚
â”‚  â”‚  Progression: 5/10 entreprises                        â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  ğŸ“‹ Logs en temps rÃ©el:                               â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ [14:21:47] Enrichissement #5/10 - AGENCE 107     â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ [14:21:50] âœ… WhatWeb: 5 tech(s)                 â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ [14:21:55] âœ… theHarvester: 2 email(s)           â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ [14:22:00] âœ… Subfinder: 4 sous-domaine(s)       â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ [14:22:05] âœ… WHOIS: 12 info(s)                  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ [14:22:10] âœ… Wayback: 3 URLs uniques            â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ [14:22:10] â†’ Mise Ã  jour BDD                     â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ [14:22:11] âœ… AGENCE 107 terminÃ©                 â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  [ ğŸ—‚ï¸ Voir la base de donnÃ©es â†’ /db ]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PAGE /db                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Base de donnÃ©es enrichie                             â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  ğŸ” Filtres:                                          â”‚  â”‚
â”‚  â”‚  Ville: [Toutes â–¼]  Status OSINT: [Done â–¼]           â”‚  â”‚
â”‚  â”‚  â˜‘ Avec site web  â˜ Avec email                       â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  ğŸ“Š Tableau (scroll horizontal/vertical):            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ Nom  â”‚ Ville   â”‚ Site â”‚ Stack   â”‚ Emails â”‚ Subs â”‚ â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚
â”‚  â”‚  â”‚ AG..â”‚Val-de..â”‚ âœ…   â”‚ WordP.. â”‚ 2 âœ‰ï¸   â”‚ 4 ğŸŒ â”‚ â”‚  â”‚
â”‚  â”‚  â”‚      â”‚         â”‚      â”‚(cliquer)â”‚(cliquer)â”‚(cli..)â”‚ â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚
â”‚  â”‚  â”‚ ...  â”‚ ...     â”‚ ...  â”‚ ...     â”‚ ...    â”‚ ...  â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  [ ğŸ“¥ Exporter CSV (filtrÃ©s) ]                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  [ âš™ï¸ Retour au contrÃ´le â†’ /enrich ]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Logs dÃ©taillÃ©s (backend/pipeline.log)

```
[2025-12-11 14:21:21] ============================================================
[2025-12-11 14:21:21] Pipeline OSINT dÃ©marrÃ©
[2025-12-11 14:21:21] ParamÃ¨tres: city=Val-de-Ruz, limit=10, require_website=True
[2025-12-11 14:21:21] âœ… 10 cible(s) trouvÃ©e(s)

[2025-12-11 14:21:21] Enrichissement #1/10 - AGENCE 107 (https://agence107.com)
[2025-12-11 14:21:23] âœ… WhatWeb: 5 tech(s)
[2025-12-11 14:21:23] ğŸ” theHarvester: scan de agence107.com (toutes sources, limit=500)...
[2025-12-11 14:22:28] âœ… theHarvester: 2 email(s) du domaine agence107.com
[2025-12-11 14:22:28] ğŸ” Subfinder: scan de agence107.com (toutes sources)...
[2025-12-11 14:22:43] âœ… Subfinder: 4 sous-domaine(s) unique(s)
[2025-12-11 14:22:45] âœ… WHOIS: 12 info(s) extraite(s)
[2025-12-11 14:22:53] âœ… Wayback: 3 URLs uniques
[2025-12-11 14:22:53] â†’ Mise Ã  jour BDD pour AGENCE 107
[2025-12-11 14:22:53]    [DEBUG] Champs Ã  mettre Ã  jour: {
                         'tech_stack': 'WordPress | Server: LiteSpeed | IP: 51.77.165.6 | Pays: GB',
                         'emails_osint': 'contact@agence107.com, info@agence107.com',
                         'subdomains': 'www.agence107.com, mail.agence107.com, ftp.agence107.com, api.agence107.com',
                         'whois_raw': 'Registrar: OVH sas\nCreation Date: 2018-05-10...',
                         'wayback_urls': 'https://agence107.com, https://agence107.com/services, https://agence107.com/contact'
                       }
[2025-12-11 14:22:53]    [DEBUG] SQL: UPDATE companies SET ... WHERE id = 123
[2025-12-11 14:22:53]    [DEBUG] 1 ligne(s) mise(s) Ã  jour dans /home/ubuntu/maps-scraper/backend/companies.db
[2025-12-11 14:22:53] âœ… AGENCE 107 terminÃ©

[2025-12-11 14:22:54] Enrichissement #2/10 - web4com (https://web4com.ch)
[...]
```

---

## Performance et optimisations

```
AVANT les optimisations:
â”œâ”€ theHarvester: 40s timeout, limit par dÃ©faut
â”œâ”€ Subfinder: 40s timeout, sources par dÃ©faut
â”œâ”€ WHOIS: donnÃ©es brutes complÃ¨tes
â”œâ”€ Wayback: 20 URLs avec doublons
â””â”€ Total: ~60 secondes/entreprise

APRÃˆS les optimisations:
â”œâ”€ theHarvester: 300s timeout, limit 500, extraction amÃ©liorÃ©e
â”œâ”€ Subfinder: 180s timeout, -all sources, dÃ©duplication
â”œâ”€ WHOIS: extraction lignes importantes uniquement
â”œâ”€ Wayback: 20 URLs uniques sans doublons
â””â”€ Total: ~90 secondes/entreprise

RÃ©sultat: +50% de temps, mais +300% de donnÃ©es collectÃ©es ! ğŸ“ˆ
```

---

**Pour voir ce guide en action** : 
```bash
cd ~/maps-scraper/osint-enricher
tail -f backend/pipeline.log
```

**Documentation complÃ¨te** : `docs/OUTILS_DETAILLES.md`

